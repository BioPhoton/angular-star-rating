!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-star-rating",["exports","@angular/core","@angular/forms","@angular/common"],e):e(t["angular-star-rating"]={},t.ng.core,t.ng.forms,t.ng.common)}(this,function(t,i,e,n){"use strict";var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};var s=function(){},o=function(){function t(){}return t.getStarsArray=function(t){for(var e=[],i=0;i<t;i++)e.push(i+1);return e},t.getHalfStarVisible=function(t){return 0<Math.abs(t%1)},t.getColor=function(t,e,i){if(i)return i;var n=e/3,r="default";return 0<(t=t||0)&&(r="negative"),n<t&&(r="ok"),2*n<t&&(r="positive"),r},t.isDigitKeyEventCode=function(t){return 0===t.indexOf("Digit")},t}(),a=function(){function t(t){this.config=t,this.classEmpty=this.config.classEmpty,this.classHalf=this.config.classHalf,this.classFilled=this.config.classFilled,this.pathEmpty=this.config.svgPathEmpty,this.pathHalf=this.config.svgPathHalf,this.pathFilled=this.config.svgPathFilled,"getColor"in this.config&&"function"==typeof this.config.getColor&&(this.getColor=this.config.getColor),"getHalfStarVisible"in this.config&&"function"==typeof this.config.getHalfStarVisible&&(this.getHalfStarVisible=this.config.getHalfStarVisible),this.numOfStars=this.config.numOfStars,this.rating=0,this.step=1}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelText",{get:function(){return this._labelText},set:function(t){this._labelText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(t){this._labelPosition=t||this.config.labelPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelVisible",{get:function(){return this._labelVisible},set:function(t){this._labelVisible=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverEnabled",{get:function(){return this._hoverEnabled},set:function(t){this._hoverEnabled=t!==undefined&&!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"staticColor",{get:function(){return this._staticColor||this.config.staticColor||undefined},set:function(t){this._staticColor=t,this.setColor()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=t||undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfStars",{get:function(){return this._numOfStars},set:function(t){this._numOfStars=0<t?t:this.config.numOfStars,this.stars=o.getStarsArray(this.numOfStars),this.setColor()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverRating",{get:function(){return this._hoverRating},set:function(t){this._hoverRating=0<t?t:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t||this.config.speed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size||this.config.size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starType",{get:function(){return this._starType||this.config.starType},set:function(t){this._starType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"space",{get:function(){return this._space},set:function(t){this._space=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=0<t?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rating",{get:function(){return this._rating},set:function(t){this.setRating(t)},enumerable:!0,configurable:!0}),t.prototype.setRating=function(t){var e=0;0<=t&&t<=this.numOfStars&&(e=t),t>this.numOfStars&&(e=this.numOfStars),this._rating=e,this.ratingAsInteger=parseInt(this._rating.toString()),this.setHalfStarVisible(),this.setColor()},Object.defineProperty(t.prototype,"showHalfStars",{get:function(){return this._showHalfStars},set:function(t){this._showHalfStars=!!t,this.setHalfStarVisible()},enumerable:!0,configurable:!0}),t.prototype.svgVisible=function(){return"svg"===this.starType},t.prototype.interactionPossible=function(){return!this.readOnly&&!this.disabled},t.prototype.setColor=function(){"function"==typeof this.getColor?this.color=this.getColor(this.rating,this.numOfStars,this.staticColor):this.color=o.getColor(this.rating,this.numOfStars,this.staticColor)},t.prototype.setHalfStarVisible=function(){this.showHalfStars?"function"==typeof this.getHalfStarVisible?this.halfStarVisible=this.getHalfStarVisible(this.rating):this.halfStarVisible=o.getHalfStarVisible(this.rating):this.halfStarVisible=!1},t.prototype.getComponentClassNames=function(){var t=[];t.push(this.rating?"value-"+this.ratingAsInteger:"value-0"),t.push(this.halfStarVisible?"half":""),t.push(this.hoverEnabled?"hover":"");var e=this.hoverRating?"hover-"+this.hoverRating:"hover-0";return t.push(this.hoverEnabled?e:""),t.push(this.space?"space-"+this.space:""),t.push(this.labelPosition?"label-"+this.labelPosition:""),t.push(this.color?"color-"+this.color:""),t.push(this.starType?"star-"+this.starType:""),t.push(this.speed),t.push(this.size),t.push(this.readOnly?"read-only":""),t.push(this.disabled?"disabled":""),t.push(this.direction?"direction-"+this.direction:""),t.join(" ")},t.prototype.increment=function(){var t=Math.abs(this.rating%this.step);this.rating=this.rating+(0<t?this.step-t:this.step)},t.prototype.decrement=function(){var t=Math.abs(this.rating%this.step);this.rating=this.rating-(0<t?t:this.step)},t.prototype.reset=function(){this.rating=0},t}(),l=function(){function t(){this._classEmpty="default-star-empty-icon",this._classHalf="default-star-half-icon",this._classFilled="default-star-filled-icon",this._numOfStars=5,this._size="medium",this._labelPosition="left",this._speed="noticeable",this._starType="svg",this._assetsPath="assets/images/",this._svgPath=this.assetsPath+"star-rating.icons.svg",this._svgEmptySymbolId="star-empty",this._svgHalfSymbolId="star-half",this._svgFilledSymbolId="star-filled",this._svgPathEmpty=this.svgPath+"#"+this.svgEmptySymbolId,this._svgPathHalf=this.svgPath+"#"+this.svgHalfSymbolId,this._svgPathFilled=this.svgPath+"#"+this.svgFilledSymbolId}return Object.defineProperty(t.prototype,"classEmpty",{get:function(){return this._classEmpty},set:function(t){this._classEmpty=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classHalf",{get:function(){return this._classHalf},set:function(t){this._classHalf=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classFilled",{get:function(){return this._classFilled},set:function(t){this._classFilled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfStars",{get:function(){return this._numOfStars},set:function(t){this._numOfStars=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"staticColor",{get:function(){return this._staticColor},set:function(t){this._staticColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(t){this._labelPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"starType",{get:function(){return this._starType},set:function(t){this._starType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assetsPath",{get:function(){return this._assetsPath},set:function(t){this._assetsPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(t){this._svgPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgEmptySymbolId",{get:function(){return this._svgEmptySymbolId},set:function(t){this._svgEmptySymbolId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgHalfSymbolId",{get:function(){return this._svgHalfSymbolId},set:function(t){this._svgHalfSymbolId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgFilledSymbolId",{get:function(){return this._svgFilledSymbolId},set:function(t){this._svgFilledSymbolId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPathEmpty",{get:function(){return this._svgPathEmpty},set:function(t){this._svgPathEmpty=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPathHalf",{get:function(){return this._svgPathHalf},set:function(t){this._svgPathHalf=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPathFilled",{get:function(){return this._svgPathFilled},set:function(t){this._svgPathFilled=t},enumerable:!0,configurable:!0}),t.prototype.getColor=function(t,e,i){if(i)return i;var n=e/3,r="default";return 0<(t=t||0)&&(r="negative"),n<t&&(r="ok"),2*n<t&&(r="positive"),r},t.prototype.getHalfStarVisible=function(t){return 0<Math.abs(t%1)},t}(),u={provide:e.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return c}),multi:!0},c=function(n){function t(t){var e=n.call(this,t)||this;return e.clickEmitter=new i.EventEmitter,e.ratingChangeEmitter=new i.EventEmitter,e.hoverRatingChangeEmitter=new i.EventEmitter,e.onModelChangeRegistered=!1,e.onTouchRegistered=!1,e}return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(t,n),t.prototype.saveOnClick=function(t){this.clickEmitter&&this.clickEmitter.emit(t)},t.prototype.saveOnRatingChange=function(t){this.ratingChangeEmitter&&this.ratingChangeEmitter.emit(t)},t.prototype.saveOnHover=function(t){this.hoverRatingChangeEmitter&&this.hoverRatingChangeEmitter.emit(t)},t.prototype.saveOnTouch=function(){this.onTouchRegistered&&this.onTouch()},t.prototype.saveOnModelChange=function(t){this.onModelChangeRegistered&&this.onModelChange(t)},t.prototype.onKeyDown=function(t){var e=this;if(this.interactionPossible()){var i,n,r={Minus:function(){return e.decrement()},ArrowDown:function(){return e.decrement()},ArrowLeft:function(){return e.decrement()},Plus:function(){return e.increment()},ArrowRight:function(){return e.increment()},ArrowUp:function(){return e.increment()},Backspace:function(){return e.reset()},Delete:function(){return e.reset()},Digit0:function(){return e.reset()}};(r[t.code]||o.isDigitKeyEventCode(t.code))&&(o.isDigitKeyEventCode(t.code)?(i=t.code,n=parseInt(i.substr("Digit".length,i.length-1)),e.rating=n):r[t.code](),t.preventDefault(),t.stopPropagation()),this.saveOnTouch()}},t.prototype.onBlur=function(t){this.focus=!1,t.preventDefault(),t.stopPropagation(),this.saveOnTouch()},t.prototype.onFocus=function(t){this.focus=!0,t.preventDefault(),t.stopPropagation(),this.saveOnTouch()},t.prototype.onStarHover=function(t){if(this.interactionPossible()&&this.hoverEnabled){this.hoverRating=t?parseInt(t.toString()):0;var e={hoverRating:this.hoverRating};this.saveOnHover(e)}},t.prototype.writeValue=function(t){this.rating=t},t.prototype.registerOnChange=function(t){this.onModelChange=t,this.onModelChangeRegistered=!0},t.prototype.registerOnTouched=function(t){this.onTouch=t,this.onTouchRegistered=!0},t.prototype.setRating=function(t){var e=this.rating;if(n.prototype.setRating.call(this,t),e!==this.rating){var i={rating:this.rating};this.saveOnRatingChange(i),this.saveOnModelChange(this.rating)}},t.prototype.onStarClicked=function(t){if(this.interactionPossible()){this.rating=t;var e={rating:this.rating};this.saveOnClick(e)}},t}(a);c.decorators=[{type:i.Component,args:[{selector:"star-rating-comp",providers:[u],inputs:["getHalfStarVisible","getColor","showHalfStars","hoverEnabled","rating","step","disabled","readOnly","space","starType","size","speed","numOfStars","direction","staticColor","labelPosition","labelText","id"],outputs:["clickEmitter","ratingChangeEmitter","hoverRatingChangeEmitter"],styles:[],template:'<div id="{{id}}"\n  class="rating {{getComponentClassNames()}}"\n  tabindex="0"\n  (keydown)="onKeyDown($event)"\n  (blur)="onBlur($event)"\n  (focus)="onFocus($event)"\n  (mouseleave)="onStarHover(0)">\n    <div *ngIf="labelText" class="label-value">{{labelText}}</div>\n    <div class="star-container">\n        <div class="star"\n          (mouseenter)="onStarHover(star)"\n          *ngFor="let star of stars"\n          (click)="onStarClicked(star)">\n            <i *ngIf="!svgVisible()" class="star-empty {{classEmpty}}"></i>\n            <i *ngIf="!svgVisible()" class="star-empty {{classHalf}}"></i>\n            <i *ngIf="!svgVisible()" class="star-filled {{classFilled}}"></i>\n            <svg *ngIf="svgVisible()" class="star-empty default-star-empty-icon">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" [attr.xlink:href]="pathEmpty"></use>\n            </svg>\n            <svg *ngIf="svgVisible()" class="star-half default-star-half-icon">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" [attr.xlink:href]="pathHalf"></use>\n            </svg>\n            <svg *ngIf="svgVisible()" class="star-filled default-star-filled-icon">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" [attr.xlink:href]="pathFilled"></use>\n            </svg>\n        </div>\n    </div>\n</div>'}]}],c.ctorParameters=function(){return[{type:l}]};var f=[c],h=[f],g=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[l]}},t.forChild=function(){return{ngModule:t,providers:[]}},t}();g.decorators=[{type:i.NgModule,args:[{imports:[n.CommonModule],declarations:[f],exports:[h]}]}],g.ctorParameters=function(){return[]},t.StarRatingConfig=s,t.StarRatingUtils=o,t.StarRating=a,t.StarRatingConfigService=l,t.StarRatingComponent=c,t.StarRatingModule=g,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-star-rating.umd.min.js.map
